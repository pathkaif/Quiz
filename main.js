let quizData = [
  {
    question: "What is the S.I unit of power?",
    options: ["Joule", "Volt", "Watt", "Ampere"],
    correct: "Watt",
  },
  {
    question: "The pitch of micrometer screw is 0.5 min. There are 50 divisions on it's circular scale. What will be the least count of the screw?",
    options: ["0.1 mm", "0.001 mm", "1 mm", "0.01 mm"],
    correct: "0.01 mm",
  },
  {
    question:
      "10 dyne____ N?",
    options: [
      "10-5",
      "10-4",
      "105",
      "107",
    ],
    correct: "10-4",
  },
  {
    question: "What is the unit of Energy in CGS",
    options: ["Newton", "Watt", "Joule", "Arg"],
    correct: "Arg",
  },
  {
    question: "The refractive index of water is found to have the values 1.30, 1.32, 1.34, 1.35, 1.31. Calculate the mean absolute error.",
    options: [
      "0.01254",
      "0.1254",
      "1.254",
      "o.oo1254",
    ],
    correct: "0.01254",
  },
  {
    question: "which intrument is used to measure Inner diameter of the ring?",
    options: [
      "Vernier Caliper",
      "Micrometer screw",
      "Spherometer",
      "Physical balance",
    ],
    correct: "Vernier Caliper",
  },
  {
    question: "The mathematical expression for Newton's second law is ______?",
    options: [
      "F = mv",
      "P = mv",
      "F = ma",
      "P = ma",
    ],
    correct: "F = ma",
  },
  {
    question:
      "Find the acceleration produced by applying a force of 30 N on an object of mass of 5 Kg.",
    options: [
      "0.6 m/s2",
      "6 m/s2",
      "6 m/s",
      "0.6 m/s",
    ],
    correct: "6 m/s2",
  },
  {
    question: "_______ are the examples of impulse of force.",
    options: [
      "China wares are wrapped in paper while packing",
      "Bogies of a train are provided with the buffers",
      "Both (A) and (B)",
      "None of above",
    ],
    correct: "Both (A) and (B)",
  },
  {
    question: " A body is moving in a vertical circular motion, which one of the following forces does not experience?",
    options: [
      "Force of gravity",
      "Centripetal force",
      "Frietion force",
      "Centrifugal force",
    ],
    correct: "Frietion force",
  },
  {
    question: "_______is the field force.",
    options: [
      "Gravitational force",
      "Magnetic force",
      "Electrical force",
      "Al of above",
    ],
    correct: "Al of above",
  },
  {
    question: " The work done by the external forces on a system equals the changes in_______.",
    options: [
      "Total energy",
      "Kinetic energy",
      "Potential energy",
      "None of these",
    ],
    correct: "Total energy",
  },
  {
    question: "6V battery is connected across a resistance R. The current through R is 0.4 mA. What will be the value of R?",
    options: [
      " 10 kΩ",
      "15 KΩ",
      "20 kΩ",
      "24 KΩ",
    ],
    correct: "15 KΩ",
  },
  {
    question: "________ is the Unit of permitivity..",
    options: [
      "Nm²/C²",
      "A/m",
      "N/m²С",
      "C/Nm²",
    ],
    correct: "C/Nm²",
  },
  {
    question: "The Electric flux depends on the_______.",
    options: [
      "Electric field intensity",
      "Area",
      "Angle between the surface and the electric field",
      "All of these",
    ],
    correct: "All of these",
  },
  {
    question: "Inverse of Resistance is known as_______.",
    options: [
      "current",
      "specific resistance",
      "conductance",
      "voltage",
    ],
    correct: "conductance",
  },
  {
    question: "What is the effective value of resistance when two resistors 10 Ω and 20 Ω are connected in parallel combination ?.",
    options: [
      "10 Ω",
      "20 Ω",
      "30 Ω",
      "6.6 Ω",
    ],
    correct: "6.6 Ω",
  },
  {
    question: "The Unit of capacitance is_______.",
    options: [
      " Q/C",
      "C/V",
      "Q/V",
      "C",
    ],
    correct: "C/V",
  },
  {
    question: "Arrange the metals Aluminium, Copper, Iron and Silver in increasing order of thermal conductivity.",
    options: [
      "Iron, Aluminium, Copper, Silver",
      "Aluminium, Iron, Copper, Silver",
      "Copper, Iron, Silver, Aluminium",
      "Iron, Copper, Aluminium, Silver",
    ],
    correct: "Iron, Aluminium, Copper, Silver",
  },
  {
    question: "Atwhat temperature are Celsius and Fahrenheit equal?.",
    options: [
      "40°C",
      "40°F",
      "-40°C and -40°F",
      "None of these",
    ],
    correct: "-40°C and -40°F",
  },
  {
    question: "Unit of heat capacity is______.",
    options: [
      "J/K",
      "Cal/K",
      "Cal/°С",
      "All of above",
    ],
    correct: "All of above",
  },
  {
    question: " With rising temperatures, the thermal conductivity will be_______.",
    options: [
      "Decreased",
      "Inereased",
      "Remain constant",
      "Zero",
    ],
    correct: "Inereased",
  },
  {
    question: "The mathematical formula of specific heat is_______.",
    options: [
      "C= Q/mΔT",
      "Q = C/mΔT",
      "Hc = Q/ΔL",
      " Q = Hc / ΔL",
    ],
    correct: "C= Q/mΔT",
  },
  {
    question: "A person is having temperature of 104° F. Convert it in Celsius.",
    options: [
      "38°C",
      "40°C",
      "-40°C",
      "-30°C",
    ],
    correct: "40°C",
  },
  {
    question: "Which of the following is not a type of electromagnetic wave?",
    options: [
      "Sound wave",
      "Light wave",
      "Gamma Ray",
      "Micro wave",
    ],
    correct: "Sound wave",
  },
  {
    question: "Which type of wave is a light wave?",
    options: [
      "Longitudinal",
      "Transverse",
      "Both (A) and (B)",
      "None of the above",
    ],
    correct: "Transverse",
  },
  {
    question: "The frequency of sound wave is 2kHz and it's wave length is 2m. What is the speed of soundwave?",
    options: [
      "2000 m/s",
      "400 m/s",
      "200 m/s",
      "4000 m/s",
    ],
    correct: "4000 m/s",
  },
  {
    question: "_______is not the characteristics of LASER.",
    options: [
      "Coherent",
      "Monochromatics",
      "Divergent",
      "High intensity",
    ],
    correct: "Divergent",
  },
  {
    question: "Optieal fibre works on the principle of_______.",
    options: [
      "Total internal reflection",
      "Polarization",
      "Refraction",
      "Differaction",
    ],
    correct: "Total internal reflection",
  },
  {
    question: "The mathematical formula of specific heat is_______.",
    options: [
      "C= Q/mΔT",
      "Q = C/mΔT",
      "Hc = Q/ΔL",
      " Q = Hc / ΔL",
    ],
    correct: "C= Q/mΔT",
  },
  {
    question: "A volume of an auditorium is 6000 m³. The total absorption by the surfaces is 1000 O.W.U.Then calculate reverberation time.",
    options: [
      "9 second",
      "0.966 second",
      "90 second",
      "9.6 second",
    ],
    correct: "0.966 second",
  },
  {
    question: "Burning of coal is a which type of process ?.",
    options: [
      "Double displacement",
      "Decomposition",
      "Combination",
      "Displacement",
    ],
    correct: "Combination",
  },
  {
    question: "Na2SO4(ag) + BaCl2(aq)→ BaSO4(aq) + NaCl(aq).Which type of reaction is this'?",
    options: [
      "Combination",
      "Double displacement",
      "Decomposition",
      "None of these",
    ],
    correct: "Double displacement",
  },
  {
    question: "Reaction of Zinc with Sulphuric acid gives Zine Sulphate and Hydrogen.Which is the balaneed equation for this chemical Change?",
    options: [
      "Zn + 2H₂S04 → 2ZnSO4 + H₂",
      "2Zn + H₂SO4 → ZnSO4,+ 2H₂",
      "Zn + H₂SO4 → ZnSO 4 + H₂",
      "None of these",
    ],
    correct: "Zn + H₂SO4 → ZnSO 4 + H₂",
  },
  {
    question: " The outer layer of the teeth is made-up of_______.",
    options: [
      "Calcium nitrate",
      "Potassium phosphate",
      "Calcium chloride",
      "Calcium phosphate",
    ],
    correct: "Calcium phosphate",
  },
  {
    question: " The pH of aqueous solution of which salt is 7.0?",
    options: [
      "KNO3",
      "NH4CI",
      "CH3COONa",
      "Na2CO3",
    ],
    correct: "KNO3",
  },
  {
    question: "Metal oxide + Acid → ?",
    options: [
      "Base + Water",
      "Salt+ Water",
      "Acid + Salt",
      "None of these",
    ],
    correct: "Salt+ Water",
  },
  {
    question: "State the molecular formula of Sodium Zincate.",
    options: [
      "Na₂ZnO3",
      "Na₂ZnO₂",
      "NaZnO₂",
      "Na₂Zn₂O₂",
    ],
    correct: "Na₂ZnO₂",
  },
  {
    question: "How many electrons are present in the outermost shell of fluorine??",
    options: [
      "9",
      "7",
      "2",
      "5",
    ],
    correct: "7",
  },
  {
    question: "Which of the following methods is suitable for preventing an iron frying pan from rusting?",
    options: [
      "Applying grease",
      "Applying paint",
      "Applying a coating of zine",
      "All of the above",
    ],
    correct: "Applying a coating of zine",
  },
  {
    question: "Which of following metals is highly malleable?",
    options: [
      "Gold",
      "Lead",
      "Both (A) and (B)",
      "None of these",
    ],
    correct: "Gold",
  },
  {
    question: " is not valid data type in MS-Excel?",
    options: [
      " Number",
      "Charaeter",
      "Label",
      "Date/Time",
    ],
    correct: "Charaeter",
  },
  {
    question: "What is the may zoom percentage in MS-PowerPoint?",
    options: [
      "400",
      "300",
      "200",
      "100",
    ],
    correct: "400",
  },
  {
    question: " Which is not in MS-Word?",
    options: [
      "Italie",
      "Magic tool",
      "Font",
      "Bold",
    ],
    correct: "Magic tool",
  },
  {
    question: " CPU consist of",
    options: [
      "ALU + CU",
      "ROM + ALU",
      "RAM + ROM",
      "None of these",
    ],
    correct: "ALU + CU",
  },
  {
    question: "Which of the following is not OS (Operating System)?",
    options: [
      "UNIN",
      "MS-DOS",
      "LINUX",
      "Microsoft Office",
    ],
    correct: "Microsoft Office",
  },
  {
    question: "Which pollutant is commonly associated with blue baby Syndrome in infants??",
    options: [
      "Lead",
      "Arsenic",
      "Mercury",
      "Nitrate",
    ],
    correct: "Nitrate",
  },
  {
    question: "Clouds are present in layer of atmosphere.?",
    options: [
      "Stratosphere",
      "Troposphere",
      "Mesosphere",
      "Thermosphere",
    ],
    correct: "Troposphere",
  },
  {
    question: "CFCs are not recommended to be used in refrigerators because they",
    options: [
      "Increase temperature",
      "Affect environment",
      "Deplete ozone",
      "Affect human body",
    ],
    correct: "Deplete ozone",
  },
  {
    question: " What is the approximate efficiency range of modern solar photovoltaic (PV) panels in converting Sunlight in to electricity?",
    options: [
      "5-10%",
      "15-20%",
      "20-30%",
      "40-50%",
    ],
    correct: "15-20%",
  },
  {
    question: "Which pollutant is primarily responsible for causing respiratory problems and cardiovascular diseases in humans",
    options: [
      "Lead",
      "Particulate matter (PM10)",
      "Benzene",
      "Carbon Monoxide (CO)",
    ],
    correct: "Particulate matter (PM10)",
  },
  {
    question: "As per some historians Black Powder was invented in ________",
    options: [
      "India",
      "China",
      "Greek",
      "None of the above",
    ],
    correct: "India",
  },
  {
    question: "Roger Bacon Was",
    options: [
      "a chinese writer",
      "an indian historian",
      "an English Monk",
      "a greek philosopher",
    ],
    correct: "an English Monk",
  },
  {
    question: "Who wrote about Black Powder in code language ?",
    options: [
      "Shukranti",
      "Roger Bacon",
      "Chinese",
      "Greek",
    ],
    correct: "Roger Bacon",
  },
  {
    question: "When Was Shukranti Written ?",
    options: [
      "One thousand years ago",
      "In 1242",
      "Two thousand years ago",
      "Modern Times",
    ],
    correct: "Two thousand years ago",
  },
  {
    question: "Pyrotechnics word is form",
    options: [
      "Indian Language",
      "Greek Language",
      "Chinese Language",
      "a greek philosopher",
    ],
    correct: "Greek Language",
  },
  {
    question: "Verbal communication can be in ______ form.",
    options: [
      "writter",
      "Oral and Written",
      "Oral",
      "None of this",
    ],
    correct: "Oral and written",
  },
  {
    question: "Tone of voice, voice quality, style of speaking, stress, intonation are part of_________",
    options: [
      "Body language",
      "Sign language",
      "paralanguage",
      "Code language",
    ],
    correct: "paralanguage",
  },
  {
    question: "The process of communication is a _________",
    options: [
      "Two way",
      "Three way",
      "one way",
      "Single way",
    ],
    correct: "Two way",
  },
  {
    question: "During the process of communication at every stage, there is hindrance which disturbs communication process. such hondrance is known as",
    options: [
      "barrier",
      "noise",
      "sender",
      "receiver",
    ],
    correct: "barrier",
  },
  {
    question: "Our physical appearance is an example of_______ communication",
    options: [
      "Oral",
      "Written",
      "Verbal",
      "Non-Verbal",
    ],
    correct: "Non-Verbal",
  },
  {
    question: "What is written at the top of a business letter on the left hand side.",
    options: [
      "Sender's address",
      "Recciver's address",
      "Date",
      "Salutation",
    ],
    correct: "sender's address",
  },
  {
    question: "Where is the salutation placed in a bussiness letter?",
    options: [
      "Just above the date",
      "Just below the date",
      "Along with the subject",
      "None of these",
    ],
    correct: "None of these",
  },
  {
    question: "Which of the following is not a part of the business letter ?",
    options: [
      "Photo",
      "Salutation",
      "Date",
      "Signature",
    ],
    correct: "Photo",
  },
  {
    question: "A letter is incomplete and worthless without___________",
    options: [
      "signature",
      "postscript",
      "Enclosure",
      "Photo",
    ],
    correct: "signature",
  },
  {
    question: "Give the Full Form of C.O.D",
    options: [
      "Cash on delay",
      "Cash on delivery",
      "Cash on order",
      "Cash on distance",
    ],
    correct: "Cash on delivery",
  },
  {
    question: "Hurrah! I have passed the examination. Identify the interjection",
    options: [
      "Examination",
      "Passed",
      "Hurrah!",
      "The whole sentence",
    ],
    correct: "Hurrah!",
  },
  {
    question: "The dog is sitting _______ the cot. select appropriate option.",
    options: [
      "under",
      "into",
      "between",
      "up",
    ],
    correct: "under",
  },
  {
    question: "The sun _________ in the East. Select appropriate option",
    options: [
      "raise",
      "rises",
      "rise",
      "raised",
    ],
    correct: "rises",
  },
  {
    question: "Your family _________ a happy family. select appropriate option",
    options: [
      "are",
      "is",
      "has",
      "have",
    ],
    correct: "is",
  },
  {
    question: "Do you have ________ doubt in this question paper? select appropriate option",
    options: [
      "some",
      "any",
      "many",
      "much",
    ],
    correct: "any",
  },
  {
    question: "Select the correct spelling",
    options: [
      "playwright",
      "playwrite",
      "playright",
      "playrite",
    ],
    correct: "playwright",
  },
  {
    question: "Select the correct spelling",
    options: [
      "Enterpeneur",
      "Entrepreneur",
      "Enterpreneur",
      "Entrepeneur",
    ],
    correct: "Entrepreneur",
  },
  {
    question: "Choose the correct grammatical sentence.",
    options: [
      "People were coming, going and ignorant him.",
      "People were coming, going and ignoring him.",
      "People where coming, going and ignoring him.",
      "Pople were coming, going and ignored him.",
    ],
    correct: "People were coming, going and ignoring him.",
  },
  {
    question: "Choose the correct grammatical sentence.",
    options: [
      "I like drawing my coworkers and my cat.",
      "I like drawing, my coworkers and my cat.",
      "I like drawing, my coworkers, and my cat.",
      "I like drawing, my coworkers, and, my cat.",
    ],
    correct: "I like drawing, my coworkers and my cat.",
  },
  {
    question: "Choose the correct grammatical sentence.",
    options: [
      "The ship was wrecked, and every man, womam and child have drowned.",
      "The ship was wrecked, and every man, womam, and child are drowned.",
      "The ship was wrecked, and every man, womam and child is drowned.",
      "The ship was wrecked, and every man, womam and child was drowned.",
    ],
    correct: "The ship was wrecked, and every man, womam and child was drowned.",
  },
];

const quizContainer = document.querySelector(".quiz-container");
const question = document.querySelector(".quiz-container .question");
const options = document.querySelector(".quiz-container .options");
const nextBtn = document.querySelector(".quiz-container .next-btn");
const quizResult = document.querySelector(".quiz-result");
const startBtnContainer = document.querySelector(".start-btn-container");
const startBtn = document.querySelector(".start-btn-container .start-btn");

let questionNumber = 0;
let score = 0;
const MAX_QUESTIONS = 90;
let timerInterval;

const shuffleArray = (array) => {
  return array.slice().sort(() => Math.random() - 0.5);
};

quizData = shuffleArray(quizData);

const resetLocalStorage = () => {
  for (i = 0; i < MAX_QUESTIONS; i++) {
    localStorage.removeItem(`userAnswer_${i}`);
  }
};

resetLocalStorage();

const checkAnswer = (e) => {
  let userAnswer = e.target.textContent;
  if (userAnswer === quizData[questionNumber].correct) {
    score++;
    e.target.classList.add("correct");
  } else {
    e.target.classList.add("incorrect");
  }

  localStorage.setItem(`userAnswer_${questionNumber}`, userAnswer);

  let allOptions = document.querySelectorAll(".quiz-container .option");
  allOptions.forEach((o) => {
    o.classList.add("disabled");
  });
};

const createQuestion = () => {
  clearInterval(timerInterval);

  let secondsLeft = 29;
  const timerDisplay = document.querySelector(".quiz-container .timer");
  timerDisplay.classList.remove("danger");

  timerDisplay.textContent = `Time Left: 30 seconds`;

  timerInterval = setInterval(() => {
    timerDisplay.textContent = `Time Left: ${secondsLeft
      .toString()
      .padStart(2, "0")} seconds`;
    secondsLeft--;

    if (secondsLeft < 3) {
      timerDisplay.classList.add("danger");
    }

    if (secondsLeft < 0) {
      clearInterval(timerInterval);
      displayNextQuestion();
    }
  }, 1000);

  options.innerHTML = "";
  question.innerHTML = `<span class='question-number'>${
    questionNumber + 1
  }/${MAX_QUESTIONS}</span>${quizData[questionNumber].question}`;

  const shuffledOptions = shuffleArray(quizData[questionNumber].options);

  shuffledOptions.forEach((o) => {
    const option = document.createElement("button");
    option.classList.add("option");
    option.innerHTML = o;
    option.addEventListener("click", (e) => {
      checkAnswer(e);
    });
    options.appendChild(option);
  });
};

const retakeQuiz = () => {
  questionNumber = 0;
  score = 0;
  quizData = shuffleArray(quizData);
  resetLocalStorage();

  createQuestion();
  quizResult.style.display = "none";
  quizContainer.style.display = "block";
};

const displayQuizResult = () => {
  quizResult.style.display = "flex";
  quizContainer.style.display = "none";
  quizResult.innerHTML = "";

  const resultHeading = document.createElement("h2");
  resultHeading.innerHTML = `You have scored ${score} out of ${MAX_QUESTIONS}.`;
  quizResult.appendChild(resultHeading);

  for (let i = 0; i < MAX_QUESTIONS; i++) {
    const resultItem = document.createElement("div");
    resultItem.classList.add("question-container");

    const userAnswer = localStorage.getItem(`userAnswer_${i}`);
    const correctAnswer = quizData[i].correct;

    let answeredCorrectly = userAnswer === correctAnswer;

    if (!answeredCorrectly) {
      resultItem.classList.add("incorrect");
    }

    resultItem.innerHTML = `<div class="question">Question ${i + 1}: ${
      quizData[i].question
    }</div>
    <div class="user-answer">Your answer: ${userAnswer || "Not Answered"}</div>
    <div class="correct-answer">Correct answer: ${correctAnswer}</div>`;

    quizResult.appendChild(resultItem);
  }

  const retakeBtn = document.createElement("button");
  retakeBtn.classList.add("retake-btn");
  retakeBtn.innerHTML = "Retake Quiz";
  retakeBtn.addEventListener("click", retakeQuiz);
  quizResult.appendChild(retakeBtn);
};

const displayNextQuestion = () => {
  if (questionNumber >= MAX_QUESTIONS - 1) {
    displayQuizResult();
    return;
  }

  questionNumber++;
  createQuestion();
};

nextBtn.addEventListener("click", displayNextQuestion);

startBtn.addEventListener("click", () => {
  startBtnContainer.style.display = "none";
  quizContainer.style.display = "block";
  createQuestion();
});